# Diagrama de Estrutura de Pastas

Este script Python gera um diagrama da estrutura de pastas e arquivos de um diret√≥rio, utilizando o Graphviz. Ele permite personaliza√ß√£o de profundidade, exclus√£o de diret√≥rios indesejados, dimensionamento de p√°gina, tamanho de fonte, formato de sa√≠da e engine de layout.

---

## üì¶ Requisitos

* Python 3.7 ou superior
* [Graphviz](https://graphviz.org/download/) instalado e com o execut√°vel `dot` dispon√≠vel no PATH
* Bibliotecas Python:

  ```bash
  pip install graphviz
  ```

---

## üìù Arquivos

* `export_tree.py`: script principal para gera√ß√£o do diagrama.
* `estrutura_python.*`: sa√≠da do Graphviz (PNG, SVG ou PDF).

---

## üöÄ Instala√ß√£o

1. Clone este reposit√≥rio:

   ```bash
   git clone https://github.com/seuusuario/diagrama-estrutra.git
   cd diagrama-estrutura
   ```

2. Crie e ative um ambiente virtual:

   ```bash
   python -m venv .venv
   source .venv/bin/activate   # Linux/macOS
   .venv\Scripts\activate      # Windows
   ```

3. Instale as depend√™ncias:

   ```bash
   pip install graphviz
   ```

4. Certifique-se de que o comando `dot -V` retorna a vers√£o do Graphviz.

---

## üéØ Uso

```bash
python export_tree.py <root_path> [max_depth] [progress_interval] [exclude_dirs] [page_size] [font_size] [output_format] [layout_engine]
```

| Par√¢metro           | Descri√ß√£o                                                          | Padr√£o                | Valores v√°lidos                        |
| ------------------- | ------------------------------------------------------------------ | --------------------- | -------------------------------------- |
| `root_path`         | Caminho da pasta raiz para gerar o diagrama                        | Diret√≥rio atual (`.`) | Qualquer caminho v√°lido                |
| `max_depth`         | Profundidade m√°xima de subpastas (n√∫mero de n√≠veis)                | `2`                   | Inteiro ‚â• 0                            |
| `progress_interval` | Intervalo em n√≥s processados para exibir progresso                 | `100`                 | Inteiro ‚â• 1                            |
| `exclude_dirs`      | Pastas a serem ignoradas, separadas por v√≠rgula                    | `''`                  | Ex.: `node_modules,.expo,.git`         |
| `page_size`         | Tamanho da p√°gina para layout (define `size` e `page` no Graphviz) | `None`                | `A1`, `A2`                             |
| `font_size`         | Tamanho da fonte (em pontos) para os r√≥tulos dos n√≥s               | `10`                  | String num√©rica (`"8"`, `"12"`, ...)   |
| `output_format`     | Formato de sa√≠da do arquivo gerado pelo Graphviz                   | `svg`                 | `png`, `svg`, `pdf`                    |
| `layout_engine`     | Engine de layout do Graphviz                                       | `circo`               | `dot`, `circo`, `twopi`, `fdp`, `sfdp` |

### Exemplos

1. Diagrama em PNG, 3 n√≠veis, excluindo `node_modules` e `.expo`, p√°gina A2, fonte 8, layout circular:

   ```bash
   python export_tree.py \
     "C:/meu/projeto" 3 100 node_modules,.expo A2 8 png circo
   ```

2. Diagrama em SVG, somente raiz (0 n√≠veis):

   ```bash
   python export_tree.py . 0
   ```

3. Diagrama em PDF, at√© 4 n√≠veis, sem exclus√µes, layout hier√°rquico:

   ```bash
   python export_tree.py \
     /caminho/para/raiz 4 200 '' None 10 pdf dot
   ```

---

## ‚öôÔ∏è Como funciona

1. **Leitura da √°rvore de diret√≥rios**: usa `os.walk()` iniciando em `root_path`.
2. **Filtragem**:

   * Para al√©m de `max_depth`, ignora subpastas.
   * Remove diret√≥rios listados em `exclude_dirs`.
3. **Configura√ß√£o do grafo**:

   * Cria um objeto `Digraph` com `format` e `engine` conforme par√¢metros.
   * Ajusta atributos de espa√ßamento, cor, fonte, p√°gina.
4. **Cria√ß√£o de n√≥s e arestas**:

   * Cada pasta vira um n√≥ ‚Äúfolder‚Äù.
   * Cada arquivo vira um n√≥ ‚Äúnote‚Äù, ligado √† pasta correspondente.
5. **Progresso**: exibe no terminal a cada `progress_interval` n√≥s.
6. **Renderiza√ß√£o**: chama `dot.render()`, gerando o arquivo final e removendo intermedi√°rio.

---

## üõ†Ô∏è Personaliza√ß√µes

* **Layouts**: experimente `fdp` ou `sfdp` para grafos muito grandes.
* **Clusters**: modifique para agrupar pastas em `subgraph` se desejar caixas.
* **Estilos**: edite `graph_attr` e `node_attr` para cores, formas e espa√ßamentos.

---

## üìù Licen√ßa

MIT ¬© Seu Nome
